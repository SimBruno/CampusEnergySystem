# AMPL programming guidelines
In part 2, you will be using AMPL to code and optimize your models. We prepared for you a virtual machine (VM ID: STI-FM-cours-2023) with all the tools needed (you need a lisence for ampl). Pay attention that all files you save locally on the VM will be deleted once you log out. Therefore, store your files on your personal disk.

VScode has an ampl extension for the layout of your ampl code (with nice colors). It is as well necessary to run your models. So when you open your ampl models, make sure you see the ampl layout. If not, you can install the ampl extension.

```{r ampl extension, out.width='30%', fig.align='center', echo=F}
knitr::include_graphics('Figures/ampl_extension.png')
```

When you want to run the optimization of your models, you have to open an AMPL terminal window. Simply right click on the window of one ampl model and include it.

```{r ampl open terminal, out.width='50%', fig.align='center', echo=F}
knitr::include_graphics('Figures/ampl_include_file.png')
```

Then enter `ampl`. It will allow you to write in ampl language in the terminal.

```{r ampl terminal, out.width='100%', fig.align='center', echo=F}
knitr::include_graphics('Figures/ampl_terminal.png')
```

Finally, include your .run file to launch the optimization.


```{r ampl include run, out.width='50%', fig.align='center', echo=F}
knitr::include_graphics('Figures/ampl_include_file.png')
```

In a first step, make sure your models are running by working only in the ampl file (.mod, .run, .dat). 

Then in a second step, you will substitute the default parameters with your own data calculated in the first part of the project. It only concerns the options 3.Ventilation and 4.Ventilation_HP where you have to give the values of specElec, FloorArea, k_th, k_sun and specQ_people for each building of EPFL. In the file `codes_02_heat_recovery/heat_recovery_optimization.qmd` you will find more information on this step.


# Reporting
You will report in this file what you have done for part 2. Compare options and evaluate which one is the most relevant for your case study. Pay attention to characterize each stream of the 4 flowsheets (we wish at least the mass flows, temperatures and heat loads).


